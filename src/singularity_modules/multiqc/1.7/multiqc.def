Bootstrap: docker
From: debian:stretch

%labels
MAINTAINER Laurent Modolo

%pos
mkdir -p /sps /pbs /scratch
MULTIQC_VERSION=1.7
PACKAGES="build-essential \
             python3-pip \
             python3-setuptools \
             python3-dev \
             python3-wheel \
             procps \
             locales"

apt-get update && \
apt-get install -y --no-install-recommends ${PACKAGES} && \
apt-get clean

locale-gen en_US.UTF-8
LC_ALL=en_US.utf-8
LANG=en_US.utf-8
LC_ALL=C.UTF-8
LANG=C.UTF-8

pip3 install multiqc==${MULTIQC_VERSION}

%environment
export KALLISTO_VERSION=0.44.0
export locale-gen en_US.UTF-8
export LC_ALL=en_US.utf-8
export LANG=en_US.utf-8
export LC_ALL=C.UTF-8
export LANG=C.UTF-8

%runscript
exec /bin/bash "$@"

