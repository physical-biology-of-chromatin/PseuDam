Bootstrap: docker
From: ubuntu:18.04

%labels
MAINTAINER Laurent Modolo

%pos
mkdir -p /sps /pbs /scratch
HTSEQ_VERSION=0.8.0
PACKAGES="build-essential \
python3-pip \
python3-setuptools \
python3-dev \
python3-wheel"

apt-get update && \
apt-get install -y --no-install-recommends ${PACKAGES} && \
apt-get clean

pip3 install numpy==1.14.3
pip3 install pysam==0.15.0
pip3 install HTSeq==${HTSEQ_VERSION}

%environment
export HTSEQ_VERSION=0.8.0

%runscript
exec /bin/bash "$@"
