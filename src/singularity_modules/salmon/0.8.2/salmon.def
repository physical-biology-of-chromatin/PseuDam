Bootstrap: docker
From: ubuntu:18.04

%labels
MAINTAINER Laurent Modolo

%pos
mkdir -p /sps /pbs /scratch
SALMON_VERSION=0.8.2
PACKAGES="curl \
ca-certificates"

apt-get update && \
apt-get install -y --no-install-recommends ${PACKAGES} && \
apt-get clean

curl -k -L  https://github.com/COMBINE-lab/salmon/releases/download/v${SALMON_VERSION}/Salmon-${SALMON_VERSION}_linux_x86_64.tar.gz -o Salmon-${SALMON_VERSION}_linux_x86_64.tar.gz && \
tar xzf Salmon-${SALMON_VERSION}_linux_x86_64.tar.gz && \
mv Salmon-${SALMON_VERSION}_linux_x86_64/bin/* /usr/bin/ && \
rm -Rf Salmon-${SALMON_VERSION}*

%environment
export SALMON_VERSION=0.8.2

%runscript
exec /bin/bash "$@"
